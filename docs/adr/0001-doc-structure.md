# ADR 0001：采用“索引 + 分层参考 + ADR + 模板”的文档结构

## 背景

当前项目进入“重构 + 继续开发”阶段，痛点是：

- 功能与数据流清晰，但运行方式（Vite/Tauri/Sidecar）尚未闭环
- 存在重复实现与双轨存储，容易在重构中引入回归
- 团队需要一套轻量文档，能持续更新，而不是一次性写完就过期

## 选项

1. 只写一个大文档（All-in-one）
2. 以代码为中心的 README/注释（不成体系）
3. **索引 + 分层参考 + ADR + 模板（本 ADR 采用）**

## 决策

采用以下结构：

- `docs/README.md`：入口索引（北极星导航）
- `docs/product/`：产品与用户流
- `docs/engineering/`：系统地图、数据契约、API 参考
- `docs/refactor/`：路线图与已知问题
- `docs/adr/`：关键决策记录
- `docs/templates/`：写规格与 ADR 的模板

## 后果（Trade-offs）

- 优点：信息分层清晰；契约与决策可追踪；适合小团队快速迭代
- 代价：需要维护索引与少量模板；每次 PR 要有“文档更新意识”

## 落地要求

- 影响接口/数据/流程的 PR 必须更新对应文档
- 关键决策必须新增 ADR，而不是只写在群里/issue 里

