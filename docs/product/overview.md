# 产品概览（北极星文档）

## 一句话

**Kada 咔哒**：输入主题（或 1–3 套服装与客户信息），自动生成“分镜结构 + 镜头建议 + 生图提示词”，并可按需生成参考图与导出 PPT，用于拍摄前沟通与执行。

## 目标用户与典型场景

- 摄影师/摄影工作室：快速把“灵感”变成可执行的拍摄脚本与分镜。
- 电商品牌/内容团队：围绕服装与用途（电商/种草/品牌/留念）产出一致风格的拍摄方案。
- 与客户沟通：用 PPT 与参考图降低沟通成本、对齐预期。

## 核心输出物

- **单方案（Single Plan）**：一个主题 → 多个场景（location/description/shots/visualPrompt）。
- **三套服装项目（Project Plan）**：每套服装固定输出 4 个场景（主场景、叠搭A、叠搭B、纯色版面），可嵌入统一的“全局风格锚点”。
- **参考图（可选）**：以场景的 `visualPrompt` 作为 draft，并由系统按规则拼接“工作室/项目/客户/场景”上下文生成 `effectivePrompt`，再调用图片生成模型得到图片产物。
- **PPT 导出**：支持多种风格模板，项目模式可选择“含参考图导出”（已生成的图片会嵌入）。

## 当前功能边界（现状）

- 生成方式：
  - 普通主题：输入/选择主题 → 生成单方案
  - 3 套服装：输入客户信息 + 1–3 套服装 + 全局风格 → 生成项目方案
- 参考图：
  - 默认不自动生成，用户手动单张生成或一键批量生成（会提示成本/额度）
  - **本地模式仅覆盖文生文**（无 API Key 时可生成文本，但图片生成需要在线 Provider）
- 设置：
  - 服务商（Provider）管理：支持 Gemini 原生与 OpenAI 兼容格式；可拉取模型列表并设置默认
  - 主题示例：通过 JSON 编辑器自定义首页“示例主题”
- 历史记录：最近 20 条方案保存在本地（当前实现为浏览器 localStorage）

## 关键概念（词汇表）

- **Provider（服务商）**：一组可调用的 AI 配置（`format/baseUrl/apiKey/textModel/imageModel`）。
- **visualPrompt**：用于生成参考图的英文提示词（偏“写实摄影/稳定扩散风格”）。
- **主场景 / 叠搭A / 叠搭B / 纯色版面**：项目模式下的固定场景类型；纯色版面用于抠图与版面排版。
- **PPT Style**：导出模板风格（如 Minimal / Magazine / E-commerce）。

## 非目标（避免重构时跑偏）

- 不做完整项目管理（排期、团队协作、素材库管理等）。
- 不追求“完全自动化生图成本最优”，现阶段以“可控、可解释、可手动编辑”为先。
- 不把所有设置都云端同步（至少在当前阶段优先保证本地可用与安全）。
